<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments::all_header"></head>
<body>
<div class="container">
    <div>
        <th:block th:if="${admin}">
            <div th:replace="fragments::adminbar"></div>
        </th:block>
        <th:block th:if="not ${admin}">
            <div th:replace="fragments::userbar"></div>
        </th:block>
    </div>
    <h2 th:text="'Survey: ' + ${survey.getName()}"></h2>
    <div th:each="question, qstnStat : ${survey.getQuestions()}">
        <p th:text="'Question #: ' + ${qstnStat.count}"></p>
        <p th:text="${question.getText()}"></p>
        <div th:each="answer : ${question.getAnswers()}">
            <input th:type="${question.singleChoice} ? 'radio' : 'checkbox'"
                   th:text="${answer.getText()}"
                   th:checked="${answer.getUsers().contains(user)}"
                   th:disabled="${!answer.getUsers().contains(user)}">
        </div>
    </div>
</div>
</body>
</html>